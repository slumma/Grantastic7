<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Project Alpha Detail View</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link href="detailed.project.view.custom.css" rel="stylesheet">
</head>
<body>

<div class="container-fluid py-5 main-bg">
  <div class="container main-container">
    <div class="scrollable-container" style="max-height: 600px; overflow-y: auto; padding-left: 20px; padding-right: 0;">
      <div class="d-flex justify-content-start mb-3">
        <a class="btn back-btn px-0 fw-bold" href="/BusinessPartners">&lt; PREVIOUS</a>
      </div>

      <h2 class="text-center mb-4">PROJECT ALPHA</h2>

      <div class="d-flex align-items-center justify-content-between mb-4 px-3">
        <div class="flex-grow-1">
          <div class="progress" style="height: 16px; border-radius: 30px;">
            <div id="taskProgressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="10"></div>
          </div>
          <small id="taskProgressText" class="text-end d-block mt-1 fw-bold">0/10 TASKS COMPLETED</small>
        </div>
      </div>

      <h6 class="section-label">PROJECT OVERVIEW</h6>
      <div class="overview-box p-4 mb-4">
        <div class="row">
          <div class="col-md-8 mb-3 ps-md-4">
            <strong>Project Description:</strong>
            <div class="text-muted">Project Alpha is focused on developing a sustainable urban forestry initiative...</div>
          </div>
          <div class="col-md-4 mb-3 pe-md-4">
            <div class="d-flex justify-content-end gap-5">
              <div><strong>Current Funding</strong><div class="text-muted">$450,000.00</div></div>
              <div><strong>Associated Grant</strong><div class="text-muted">Tree Fund</div></div>
            </div>
          </div>
        </div>
      </div>

      <div class="text-center mb-4">
        <button class="btn sm-btn" data-bs-toggle="modal" data-bs-target="#editOverviewModal">EDIT OVERVIEW</button>
      </div>

      <h6 class="section-label">PROJECT STAFF</h6>
      <div class="mb-4">
        <table class="table text-center align-middle table-bordered header-table">
          <thead>
            <tr><th>NAME</th><th>ROLE</th><th>EMAIL</th><th>PHONE</th><th>EDIT USER/ PERMISSIONS</th></tr>
          </thead>
        </table>
        <div class="table-scroll">
          <table class="table text-center align-middle table-bordered table-body mt-0">
            <tbody>
              <tr class="project-row">
                <td class="fw-bold">Sarah Bennett</td>
                <td>Admin/Lead PI</td>
                <td>sarahbennett@example.com</td>
                <td>(540) 555-5555</td>
                <td><button class="btn sm-btn" data-bs-toggle="modal" data-bs-target="#addEditStaffModal">Edit</button></td>
              </tr>
              <tr class="project-row">
                <td class="fw-bold">Kayla Olden</td>
                <td>Co-PI</td>
                <td>kaylaolden8@example.com</td>
                <td>(540) 555-5555</td>
                <td><button class="btn sm-btn" data-bs-toggle="modal" data-bs-target="#addEditStaffModal">Edit</button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="text-center mt-2">
          <button class="btn sm-btn" data-bs-toggle="modal" data-bs-target="#addEditStaffModal">EDIT/ADD STAFF</button>
        </div>
      </div>

      <h6 class="section-label">PROJECT TASKS</h6>
      <div class="table-container">
        <table class="table text-center align-middle table-bordered header-table">
          <thead><tr><th>OBJECTIVE</th><th>DUE DATE</th><th>ASSOCIATED STAFF</th><th>DETAILED VIEW</th></tr></thead>
        </table>
        <div class="table-scroll">
          <table class="table text-center align-middle table-bordered table-body mt-0">
            <tbody>
              <tr class="task-row">
                <td class="fw-bold">Edit for first review</td>
                <td>08 / 30 / 2025</td>
                <td><button class="btn sm-btn" data-bs-toggle="modal" data-bs-target="#viewStaffModal">View Staff</button></td>
                <td><button class="btn sm-btn" data-bs-toggle="modal" data-bs-target="#detailedViewModal">Detailed View</button></td>
              </tr>
              <tr class="task-row">
                <td class="fw-bold">Finish Section 2</td>
                <td>09 / 15 / 2025</td>
                <td><button class="btn sm-btn" data-bs-toggle="modal" data-bs-target="#viewStaffModal">View Staff</button></td>
                <td><button class="btn sm-btn" data-bs-toggle="modal" data-bs-target="#detailedViewModal">Detailed View</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Staff Modal -->
<div class="modal fade" id="addEditStaffModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">
      <div class="modal-header border-0 justify-content-end">
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <h4 class="fw-bold mb-3">Add/Edit Staff</h4>
      <input type="text" placeholder="Search..." class="form-control mb-3" />
      <button class="btn save-btn">Save</button>
    </div>
  </div>
</div>

<!-- Edit Overview Modal -->
<div class="modal fade" id="editOverviewModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">
      <div class="modal-header border-0 justify-content-end">
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <h4 class="fw-bold mb-3">Edit Project Overview</h4>
      <textarea class="form-control mb-3" rows="4" placeholder="Update project description..."></textarea>
      <input type="text" class="form-control mb-3" placeholder="Update funding amount..." />
      <input type="text" class="form-control mb-3" placeholder="Update associated grant..." />
      <button class="btn save-btn">Save</button>
    </div>
  </div>
</div>

<!-- View Staff Modal -->
<div class="modal fade" id="viewStaffModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">
      <div class="modal-header border-0 justify-content-end">
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <h4 class="fw-bold mb-3">Associated Staff</h4>
      <p>This would list associated staff for the selected task.</p>
    </div>
  </div>
</div>

<!-- Task Detail Modal -->
<div class="modal fade" id="detailedViewModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">
      <div class="modal-header border-0 justify-content-end">
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <h4 class="fw-bold mb-3">Task Details</h4>
      <textarea class="form-control mb-3" rows="3" placeholder="Task objective..."></textarea>
      <input type="date" class="form-control mb-3" />
      <select class="form-select mb-3">
        <option value="Active">Active</option>
        <option value="Pending">Pending</option>
        <option value="Denied">Denied</option>
      </select>
      <button class="btn save-btn">Save</button>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  function updateTaskProgress(completed, total) {
    const progressBar = document.getElementById("taskProgressBar");
    const progressText = document.getElementById("taskProgressText");
    const percentage = (completed / total) * 100;
    progressBar.style.width = `${percentage}%`;
    progressBar.setAttribute("aria-valuenow", completed);
    progressText.textContent = `${completed}/${total} TASKS COMPLETED`;
  }
  updateTaskProgress(3, 10);
</script>
</body>
</html>
